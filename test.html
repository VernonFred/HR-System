<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EPQ äººæ ¼æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page {
            display: none;
            padding: 30px 20px;
        }

        .page.active {
            display: block;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
        }

        .form-group label .required {
            color: #f56565;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            font-size: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            transition: all 0.3s;
            outline: none;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .info-box {
            background: #ebf4ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
            color: #2d3748;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-item {
            margin-bottom: 30px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 12px;
            transition: all 0.3s;
        }

        .question-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .question-text {
            font-size: 16px;
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .question-number {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 5px;
            font-size: 14px;
            margin-right: 8px;
        }

        .options {
            display: flex;
            gap: 10px;
        }

        .option-btn {
            flex: 1;
            padding: 12px;
            font-size: 16px;
            font-weight: 500;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f7faff;
        }

        .option-btn.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .navigation {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .nav-btn {
            flex: 1;
            padding: 12px;
            font-size: 16px;
            font-weight: 500;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #667eea;
            color: white;
        }

        .nav-btn:disabled {
            border-color: #cbd5e0;
            color: #cbd5e0;
            cursor: not-allowed;
        }

        .nav-btn:disabled:hover {
            background: white;
            color: #cbd5e0;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            background: #48bb78;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        .success-icon::after {
            content: "âœ“";
            font-size: 48px;
            color: white;
            font-weight: bold;
        }

        .success-message {
            text-align: center;
            color: #2d3748;
        }

        .success-message h2 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #48bb78;
        }

        .success-message p {
            font-size: 16px;
            line-height: 1.6;
            color: #666;
        }

        .error-message {
            background: #fff5f5;
            border-left: 4px solid #f56565;
            padding: 12px 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            color: #c53030;
            font-size: 14px;
            display: none;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 15px;
            }

            .page {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 24px;
            }

            .question-text {
                font-size: 15px;
            }

            .option-btn {
                font-size: 15px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ¬¢è¿é¡µ -->
        <div id="welcomePage" class="page active">
            <div class="header">
                <h1>ğŸ“‹ EPQ äººæ ¼æµ‹è¯•</h1>
                <p>æ¬¢è¿å‚åŠ äººæ ¼æµ‹è¯„</p>
            </div>

            <div class="info-box">
                <strong>æµ‹è¯•è¯´æ˜ï¼š</strong><br>
                â€¢ æœ¬æµ‹è¯•å…± 88 é“é¢˜ï¼Œé¢„è®¡éœ€è¦ 10-15 åˆ†é’Ÿ<br>
                â€¢ è¯·æ ¹æ®æ‚¨çš„çœŸå®æƒ…å†µä½œç­”ï¼Œæ²¡æœ‰å¯¹é”™ä¹‹åˆ†<br>
                â€¢ æ¯é¢˜é€‰æ‹©"æ˜¯"æˆ–"å¦"å…¶ä¸­ä¸€ä¸ª<br>
                â€¢ è¯·åœ¨å®‰é™ç¯å¢ƒä¸‹ç‹¬ç«‹å®Œæˆ<br>
                <br>
                <strong>éšç§ä¿æŠ¤ï¼š</strong><br>
                æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œæµ‹è¯•ç»“æœä»…ç”¨äºæ‹›è˜è¯„ä¼°ï¼Œæˆ‘ä»¬å°†ä¸¥æ ¼ä¿å¯†ã€‚
            </div>

            <form id="infoForm">
                <div class="form-group">
                    <label>å§“å <span class="required">*</span></label>
                    <input type="text" id="name" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" required>
                </div>

                <div class="form-group">
                    <label>æ‰‹æœºå· <span class="required">*</span></label>
                    <input type="tel" id="phone" placeholder="è¯·è¾“å…¥11ä½æ‰‹æœºå·" required>
                </div>

                <div class="form-group">
                    <label>åº”è˜å²—ä½ <span class="required">*</span></label>
                    <select id="position" required>
                        <option value="">è¯·é€‰æ‹©å²—ä½</option>
                        <option value="Javaå¼€å‘å·¥ç¨‹å¸ˆ">Javaå¼€å‘å·¥ç¨‹å¸ˆ</option>
                        <option value="å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ">å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</option>
                        <option value="äº§å“ç»ç†">äº§å“ç»ç†</option>
                        <option value="UIè®¾è®¡å¸ˆ">UIè®¾è®¡å¸ˆ</option>
                        <option value="é”€å”®ç»ç†">é”€å”®ç»ç†</option>
                        <option value="å¸‚åœºè¿è¥">å¸‚åœºè¿è¥</option>
                        <option value="äººåŠ›èµ„æº">äººåŠ›èµ„æº</option>
                        <option value="è´¢åŠ¡ä¸“å‘˜">è´¢åŠ¡ä¸“å‘˜</option>
                        <option value="è¡Œæ”¿ä¸“å‘˜">è¡Œæ”¿ä¸“å‘˜</option>
                        <option value="å…¶ä»–">å…¶ä»–</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>å¤‡æ³¨ï¼ˆé€‰å¡«ï¼‰</label>
                    <textarea id="remark" placeholder="å¦‚æœ‰å…¶ä»–éœ€è¦è¯´æ˜çš„ä¿¡æ¯ï¼Œå¯åœ¨æ­¤å¡«å†™"></textarea>
                </div>

                <div class="error-message" id="infoError"></div>

                <button type="submit" class="btn">å¼€å§‹æµ‹è¯•</button>
            </form>
        </div>

        <!-- ç­”é¢˜é¡µ -->
        <div id="testPage" class="page">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText"></div>

            <div id="questionsContainer"></div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn">ä¸Šä¸€é¡µ</button>
                <button class="nav-btn" id="nextBtn">ä¸‹ä¸€é¡µ</button>
            </div>

            <div class="error-message" id="testError"></div>

            <button class="btn" id="submitBtn" style="display: none; margin-top: 20px;">æäº¤æµ‹è¯•</button>
        </div>

        <!-- æˆåŠŸé¡µ -->
        <div id="successPage" class="page">
            <div class="success-icon"></div>
            <div class="success-message">
                <h2>æäº¤æˆåŠŸï¼</h2>
                <p>æ„Ÿè°¢æ‚¨å®Œæˆ EPQ äººæ ¼æµ‹è¯•</p>
                <p style="margin-top: 15px;">æ‚¨çš„æµ‹è¯•ç»“æœå·²æˆåŠŸæäº¤ï¼Œæˆ‘ä»¬çš„ HR ä¼šç»¼åˆè¯„ä¼°æ‚¨çš„æµ‹è¯•ç»“æœï¼Œå¹¶åœ¨åç»­æµç¨‹ä¸­ä¸æ‚¨è”ç³»ã€‚</p>
                <p style="margin-top: 15px; color: #999; font-size: 14px;">ç¥æ‚¨æ±‚èŒé¡ºåˆ©ï¼</p>
            </div>
        </div>
    </div>

    <script>
        // EPQ é¢˜åº“ï¼ˆ88é¢˜ï¼ŒåŒ…å« Eã€Nã€Pã€L å››ä¸ªç»´åº¦ï¼‰
        const questions = [
            // Eç»´åº¦ï¼ˆå¤–å‘æ€§ï¼‰- 21é¢˜
            { id: 1, text: "ä½ å–œæ¬¢å‚åŠ çƒ­é—¹çš„èšä¼šå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 2, text: "ä½ æ˜¯å¦ç»å¸¸æ¸´æœ›åˆºæ¿€å’Œå…´å¥‹ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 3, text: "ä½ æ˜¯ä¸€ä¸ªå¥è°ˆçš„äººå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 4, text: "ä½ å–œæ¬¢è®¤è¯†æ–°æœ‹å‹å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 5, text: "ä½ æ›´å–œæ¬¢ç‹¬è‡ªé˜…è¯»è€Œä¸æ˜¯ä¸äººäº¤å¾€å—ï¼Ÿ", dimension: "E", key: "N" },
            { id: 6, text: "ä½ åœ¨ç¤¾äº¤åœºåˆä¸­æ€»æ˜¯å¾ˆæ´»è·ƒå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 7, text: "ä½ å–œæ¬¢ä»äº‹å†’é™©æ€§çš„æ´»åŠ¨å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 8, text: "ä½ ç»å¸¸ä¼šä¸»åŠ¨å’Œé™Œç”Ÿäººäº¤è°ˆå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 9, text: "ä½ æ›´å–œæ¬¢å¾…åœ¨å®¶é‡Œè€Œä¸æ˜¯å¤–å‡ºå—ï¼Ÿ", dimension: "E", key: "N" },
            { id: 10, text: "ä½ æ˜¯å¦æ€»æ˜¯æœ‰å¾ˆå¤šè¯è¦è¯´ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 11, text: "ä½ å–œæ¬¢å¼€ç©ç¬‘å’Œè¯´ç¬‘è¯å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 12, text: "ä½ èƒ½è½»æ¾åœ°è®©èšä¼šæ´»è·ƒèµ·æ¥å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 13, text: "ä½ å–œæ¬¢ç»å¸¸æ¢æ¢å£å‘³å’ŒèŠ±æ ·å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 14, text: "ä½ è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„äººå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 15, text: "ä½ æ›´å–œæ¬¢æœ‰è®¡åˆ’çš„æ´»åŠ¨è€Œä¸æ˜¯éšæ„å®‰æ’å—ï¼Ÿ", dimension: "E", key: "N" },
            { id: 16, text: "ä½ åœ¨äººç¾¤ä¸­æ€»æ˜¯å¾ˆæ˜¾çœ¼å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 17, text: "ä½ å–œæ¬¢å¿«èŠ‚å¥çš„ç”Ÿæ´»å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 18, text: "ä½ å¸¸å¸¸æ˜¯èšä¼šçš„ç„¦ç‚¹å—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 19, text: "ä½ åœ¨æ—…è¡Œæ—¶å–œæ¬¢ç‹¬è‡ªä¸€äººå—ï¼Ÿ", dimension: "E", key: "N" },
            { id: 20, text: "ä½ å–œæ¬¢åšéœ€è¦å¿«é€Ÿè¡ŒåŠ¨çš„å·¥ä½œå—ï¼Ÿ", dimension: "E", key: "Y" },
            { id: 21, text: "ä½ ç»å¸¸æ„Ÿåˆ°ç²¾åŠ›å……æ²›å—ï¼Ÿ", dimension: "E", key: "Y" },

            // Nç»´åº¦ï¼ˆç¥ç»è´¨ï¼‰- 24é¢˜
            { id: 22, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°è«åçš„ç´§å¼ ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 23, text: "ä½ çš„æƒ…ç»ªæ˜¯å¦ç»å¸¸èµ·ä¼ä¸å®šï¼Ÿ", dimension: "N", key: "Y" },
            { id: 24, text: "ä½ æ˜¯ä¸€ä¸ªå®¹æ˜“ç„¦è™‘çš„äººå—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 25, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°å­¤ç‹¬å’Œå¿§éƒï¼Ÿ", dimension: "N", key: "Y" },
            { id: 26, text: "ä½ ä¼šå› ä¸ºå°äº‹è€Œçƒ¦æ¼å—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 27, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°è‡ªå·±ä¸å¦‚åˆ«äººï¼Ÿ", dimension: "N", key: "Y" },
            { id: 28, text: "ä½ çš„ç¥ç»æ˜¯å¦å¸¸å¸¸ç´§å¼ å’Œæ˜“æ¿€åŠ¨ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 29, text: "ä½ æ˜¯å¦ç»å¸¸æœ‰ç½ªæ¶æ„Ÿï¼Ÿ", dimension: "N", key: "Y" },
            { id: 30, text: "ä½ æ˜¯å¦å®¹æ˜“å—ä¼¤æˆ–æ„Ÿæƒ…è„†å¼±ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 31, text: "ä½ ä¼šä¸ä¼šå¯¹æ‰¹è¯„è¿‡äºæ•æ„Ÿï¼Ÿ", dimension: "N", key: "Y" },
            { id: 32, text: "ä½ æ˜¯å¦ç»å¸¸æ‹…å¿ƒå°†æ¥çš„äº‹æƒ…ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 33, text: "ä½ ç»å¸¸å¤±çœ å—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 34, text: "ä½ æ˜¯å¦å®¹æ˜“æ„Ÿåˆ°å®³æ€•å’Œææƒ§ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 35, text: "é‡åˆ°ä¸å¼€å¿ƒçš„äº‹ä½ ä¼šéƒé—·å¾ˆé•¿æ—¶é—´å—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 36, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°ç´§å¼ å’Œç„¦èºï¼Ÿ", dimension: "N", key: "Y" },
            { id: 37, text: "ä½ æ˜¯å¦å®¹æ˜“æ„Ÿåˆ°ç–²å€¦å’Œç²¾ç–²åŠ›ç«­ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 38, text: "ä½ ç»å¸¸ä¼šæ‹…å¿ƒè‡ªå·±çš„å¥åº·å—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 39, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°ä¸å®‰å’Œå¿ƒç¥ä¸å®šï¼Ÿ", dimension: "N", key: "Y" },
            { id: 40, text: "ä½ æ˜¯ä¸€ä¸ªæƒ…ç»ªåŒ–çš„äººå—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 41, text: "ä½ æ˜¯å¦å¸¸å¸¸æ„Ÿåˆ°ç”Ÿæ´»ç´¢ç„¶æ— å‘³ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 42, text: "ä½ æ˜¯å¦ç»å¸¸éœ€è¦ç†è§£å’ŒåŒæƒ…ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 43, text: "ä½ ç»å¸¸ä¼šæ„Ÿåˆ°å‹åŠ›å¾ˆå¤§å—ï¼Ÿ", dimension: "N", key: "Y" },
            { id: 44, text: "ä½ æ˜¯å¦å®¹æ˜“å› å°äº‹è€Œæµæ³ªï¼Ÿ", dimension: "N", key: "Y" },
            { id: 45, text: "ä½ æ˜¯å¦ç»å¸¸æ„Ÿåˆ°æ‚²ä¼¤å’Œæ²®ä¸§ï¼Ÿ", dimension: "N", key: "Y" },

            // Pç»´åº¦ï¼ˆç²¾ç¥è´¨ï¼‰- 21é¢˜
            { id: 46, text: "ä½ å–œæ¬¢æ‰å¼„åˆ«äººå—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 47, text: "ä½ è®¤ä¸ºå¤§å¤šæ•°è§„åˆ™éƒ½åº”è¯¥è¢«æ‰“ç ´å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 48, text: "ä½ åšäº‹æ—¶å¾ˆå°‘è€ƒè™‘åæœå—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 49, text: "ä½ å–œæ¬¢çœ‹æš´åŠ›åœºé¢çš„ç”µå½±æˆ–èŠ‚ç›®å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 50, text: "ä½ è®¤ä¸ºäººä»¬å¤ªåœ¨ä¹ç¤¼è²Œäº†å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 51, text: "ä½ æ„¿æ„ä¸ºäº†è‡ªå·±çš„åˆ©ç›Šè€Œä¼¤å®³åˆ«äººå—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 52, text: "ä½ æ›´å–œæ¬¢ç‹¬æ¥ç‹¬å¾€å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 53, text: "ä½ å–œæ¬¢ä¸äººäº‰è®ºå—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 54, text: "ä½ è®¤ä¸ºæ„Ÿæƒ…ç”¨äº‹æ˜¯ä¸€ç§å¼±ç‚¹å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 55, text: "ä½ å¾ˆå°‘å¯¹ä»–äººçš„å›°å¢ƒæ„Ÿåˆ°åŒæƒ…å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 56, text: "ä½ è®¤ä¸ºå¦‚æœä¸è¢«å‘ç°ï¼Œåšé”™äº‹ä¹Ÿæ²¡å…³ç³»å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 57, text: "ä½ äº«å—å†’é™©å’Œå±é™©çš„æ„Ÿè§‰å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 58, text: "ä½ ä¸å¤ªåœ¨ä¹åˆ«äººçš„æ„Ÿå—å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 59, text: "ä½ è®¤ä¸ºä¼ ç»Ÿå’Œä¹ ä¿—é™åˆ¶äº†äººçš„å‘å±•å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 60, text: "ä½ ç»å¸¸ä¼šçªå‘å¥‡æƒ³åšä¸€äº›ç–¯ç‹‚çš„äº‹å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 61, text: "ä½ è§‰å¾—å¤§å¤šæ•°äººéƒ½å¤ªè½¯å¼±äº†å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 62, text: "ä½ å–œæ¬¢çœ‹åˆ«äººå‡ºä¸‘å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 63, text: "ä½ å¾ˆéš¾ä¸åˆ«äººäº²è¿‘å—ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 64, text: "ä½ è®¤ä¸ºè¯šå®æ€»æ˜¯æœ€å¥½çš„ç­–ç•¥å—ï¼Ÿ", dimension: "P", key: "N" },
            { id: 65, text: "ä½ æ˜¯å¦å¾ˆå°‘è€ƒè™‘é“å¾·é—®é¢˜ï¼Ÿ", dimension: "P", key: "Y" },
            { id: 66, text: "ä½ è§‰å¾—è‡ªå·±æœ‰æ—¶å¾ˆå†·é…·å—ï¼Ÿ", dimension: "P", key: "Y" },

            // Lç»´åº¦ï¼ˆæ©é¥°æ€§/è°è¨€é‡è¡¨ï¼‰- 22é¢˜
            { id: 67, text: "ä½ æ‰€æœ‰çš„ä¹ æƒ¯éƒ½æ˜¯å¥½çš„å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 68, text: "ä½ æ›¾ç»è¯´è¿‡åˆ«äººåè¯å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 69, text: "ä½ æ€»æ˜¯è¨€è¡Œä¸€è‡´å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 70, text: "ä½ æ›¾ç»å è¿‡åˆ«äººçš„ä¾¿å®œå—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 71, text: "ä½ æ€»æ˜¯éµå®ˆç¤¾ä¼šå‡†åˆ™å’Œè§„èŒƒå—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 72, text: "ä½ æ›¾ç»è¿Ÿåˆ°è¿‡å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 73, text: "ä½ æ›¾ç»ç”Ÿè¿‡åˆ«äººçš„æ°”å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 74, text: "ä½ æ€»æ˜¯å¾ˆæœ‰ç¤¼è²Œå—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 75, text: "ä½ æ›¾ç»è¯´è¿‡è°å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 76, text: "ä½ åšäº‹æ€»æ˜¯è¿…é€Ÿæœæ–­å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 77, text: "ä½ æ›¾ç»ä¸å®ˆè¯ºè¨€å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 78, text: "ä½ ä»ä¸å«‰å¦’åˆ«äººå—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 79, text: "ä½ æ›¾ç»è¯´è¿‡ä¸‹æµçš„ç¬‘è¯å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 80, text: "ä½ å¯¹æ‰€æœ‰äººéƒ½å¾ˆå‹å¥½å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 81, text: "ä½ æ›¾ç»æ€¨æ¨è¿‡åˆ«äººå—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 82, text: "ä½ æ€»æ˜¯æ„¿æ„æ‰¿è®¤é”™è¯¯å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 83, text: "ä½ æ›¾ç»æƒ³è¦æ¯”åº”å¾—çš„æ›´å¤šå—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 84, text: "ä½ ä»ä¸è¿‡åˆ†å¤¸å¼ å—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 85, text: "ä½ æ›¾ç»å¯¹åˆ«äººç²—é²å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 86, text: "ä½ æ€»æ˜¯èƒ½æ§åˆ¶è‡ªå·±çš„æƒ…ç»ªå—ï¼Ÿ", dimension: "L", key: "Y" },
            { id: 87, text: "ä½ æ›¾ç»ç ´åè¿‡ä¸œè¥¿å—ï¼Ÿ", dimension: "L", key: "N" },
            { id: 88, text: "ä½ æ€»æ˜¯ä¹äºå¸®åŠ©ä»–äººå—ï¼Ÿ", dimension: "L", key: "Y" }
        ];

        // å…¨å±€å˜é‡
        let userInfo = {};
        let answers = {}; // { questionId: 'Y' or 'N' }
        let currentPage = 0;
        const questionsPerPage = 8;
        const totalPages = Math.ceil(questions.length / questionsPerPage);

        // é¡µé¢åˆ‡æ¢
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function showError(elementId, message) {
            const errorEl = document.getElementById(elementId);
            errorEl.textContent = message;
            errorEl.classList.add('show');
            setTimeout(() => {
                errorEl.classList.remove('show');
            }, 3000);
        }

        // éªŒè¯æ‰‹æœºå·
        function validatePhone(phone) {
            return /^1[3-9]\d{9}$/.test(phone);
        }

        // ä¿¡æ¯è¡¨å•æäº¤
        document.getElementById('infoForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const position = document.getElementById('position').value;
            const remark = document.getElementById('remark').value.trim();

            // éªŒè¯
            if (!name) {
                showError('infoError', 'è¯·è¾“å…¥å§“å');
                return;
            }

            if (!phone) {
                showError('infoError', 'è¯·è¾“å…¥æ‰‹æœºå·');
                return;
            }

            if (!validatePhone(phone)) {
                showError('infoError', 'æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·è¾“å…¥11ä½æœ‰æ•ˆæ‰‹æœºå·');
                return;
            }

            if (!position) {
                showError('infoError', 'è¯·é€‰æ‹©åº”è˜å²—ä½');
                return;
            }

            // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
            userInfo = { name, phone, position, remark };

            // è¿›å…¥ç­”é¢˜é¡µ
            showPage('testPage');
            renderQuestions();
        });

        // æ¸²æŸ“å½“å‰é¡µé¢˜ç›®
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            const startIdx = currentPage * questionsPerPage;
            const endIdx = Math.min(startIdx + questionsPerPage, questions.length);
            const pageQuestions = questions.slice(startIdx, endIdx);

            pageQuestions.forEach((q, idx) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-item';
                questionDiv.innerHTML = `
                    <div class="question-text">
                        <span class="question-number">${q.id}</span>
                        ${q.text}
                    </div>
                    <div class="options">
                        <button class="option-btn ${answers[q.id] === 'Y' ? 'selected' : ''}" 
                                onclick="selectAnswer(${q.id}, 'Y')">æ˜¯</button>
                        <button class="option-btn ${answers[q.id] === 'N' ? 'selected' : ''}" 
                                onclick="selectAnswer(${q.id}, 'N')">å¦</button>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            updateProgress();
            updateNavigation();
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer(questionId, answer) {
            answers[questionId] = answer;
            renderQuestions();
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const answeredCount = Object.keys(answers).length;
            const totalCount = questions.length;
            const percentage = Math.round((answeredCount / totalCount) * 100);

            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = 
                `ç¬¬ ${currentPage + 1}/${totalPages} é¡µ  |  å·²å®Œæˆ ${answeredCount}/${totalCount} é¢˜ï¼ˆ${percentage}%ï¼‰`;
        }

        // æ›´æ–°å¯¼èˆªæŒ‰é’®
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.disabled = currentPage === 0;

            if (currentPage === totalPages - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        // ä¸Šä¸€é¡µ
        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentPage > 0) {
                currentPage--;
                renderQuestions();
                window.scrollTo(0, 0);
            }
        });

        // ä¸‹ä¸€é¡µ
        document.getElementById('nextBtn').addEventListener('click', function() {
            // æ£€æŸ¥å½“å‰é¡µæ˜¯å¦å…¨éƒ¨ç­”å®Œ
            const startIdx = currentPage * questionsPerPage;
            const endIdx = Math.min(startIdx + questionsPerPage, questions.length);
            const pageQuestions = questions.slice(startIdx, endIdx);

            const unanswered = pageQuestions.filter(q => !answers[q.id]);
            if (unanswered.length > 0) {
                showError('testError', `è¯·å…ˆå®Œæˆæœ¬é¡µæ‰€æœ‰é¢˜ç›®ï¼ˆè¿˜æœ‰ ${unanswered.length} é¢˜æœªä½œç­”ï¼‰`);
                return;
            }

            if (currentPage < totalPages - 1) {
                currentPage++;
                renderQuestions();
                window.scrollTo(0, 0);
            }
        });

        // æäº¤æµ‹è¯•
        document.getElementById('submitBtn').addEventListener('click', function() {
            // æ£€æŸ¥æ˜¯å¦å…¨éƒ¨ç­”å®Œ
            if (Object.keys(answers).length < questions.length) {
                const remaining = questions.length - Object.keys(answers).length;
                showError('testError', `è¿˜æœ‰ ${remaining} é¢˜æœªä½œç­”ï¼Œè¯·å®Œæˆæ‰€æœ‰é¢˜ç›®åå†æäº¤`);
                return;
            }

            // è®¡ç®—å¾—åˆ†
            const scores = calculateScores();

            // ç”Ÿæˆè®°å½•
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hour = String(now.getHours()).padStart(2, '0');
            const minute = String(now.getMinutes()).padStart(2, '0');
            const second = String(now.getSeconds()).padStart(2, '0');
            const createTime = `${year}-${month}-${day} ${hour}:${minute}:${second}`;
            
            const record = {
                id: Date.now() + '-' + Math.random().toString(36).substr(2, 9),
                name: userInfo.name,
                phone: userInfo.phone,
                position: userInfo.position,
                remark: userInfo.remark,
                createTime: createTime,
                scores: scores,
                rawAnswers: answers
            };

            // ä¿å­˜åˆ° localStorage
            saveRecord(record);

            // æ˜¾ç¤ºæˆåŠŸé¡µ
            showPage('successPage');
        });

        // è®¡ç®—å¾—åˆ†
        function calculateScores() {
            const scores = { E: 0, N: 0, P: 0, L: 0 };

            questions.forEach(q => {
                const userAnswer = answers[q.id];
                if (q.key === userAnswer) {
                    scores[q.dimension]++;
                }
            });

            return scores;
        }

        // ä¿å­˜è®°å½•åˆ° localStorage
        function saveRecord(record) {
            let records = localStorage.getItem('epqRecords');
            records = records ? JSON.parse(records) : [];
            records.push(record);
            localStorage.setItem('epqRecords', JSON.stringify(records));
        }

        // æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸ
        window.selectAnswer = selectAnswer;
    </script>
</body>
</html>
